webpackJsonp([12],{"6shN":function(e,t){},wNz7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),l=a.n(r),n=a("4YfN"),o=a.n(n),s=a("J0Oq"),i=a.n(s),u=a("YO/D"),c=a("Fdjv"),p={components:{ComProject:u.a},data:function(){return{queryControl:{year:new Date,depart_id:"",is_user:"",is_direction:"",user_status:"",page:1,limit:10},total:0,tableData:[]}},created:function(){this.getList()},methods:{getList:function(){var e=this;return i()(l.a.mark(function t(){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/direction/quota_inquiry_list",o()({},e.queryControl,{year:e.queryControl.year.getFullYear()}));case 2:a=t.sent,console.log("res",a),e.tableData=a.data,e.total=a.total;case 6:case"end":return t.stop()}},t,e)}))()},handleCurrentChange:function(e){this.queryControl.page=e,this.getList()},handleSizeChange:function(e){this.queryControl.page=1,this.queryControl.limit=e,this.getList()},changeTime:function(){this.queryControl.page=1,this.getList()},exportFile:function(){var e={year:this.queryControl.year.getFullYear(),depart_id:this.queryControl.depart_id,is_user:this.queryControl.is_user,is_direction:this.queryControl.is_direction};Object(c.d)("/direction/export_quota_inquiry_list",e,"额度数据.xls")}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"out_wrap direct-manage"},[a("div",{staticClass:"flex_between"},[a("div",{staticClass:"search mb22"},[a("el-date-picker",{attrs:{type:"year",placeholder:"选择年份",editable:!1,clearable:!1,disabled:!1,"picker-options":e.$pickOption(1)},on:{change:e.changeTime},model:{value:e.queryControl.year,callback:function(t){e.$set(e.queryControl,"year",t)},expression:"queryControl.year"}}),e._v(" "),a("com-project",{staticClass:"w150 inline",attrs:{id:e.queryControl.depart_id},on:{Dchange:function(t){e.queryControl.depart_id=t,e.getList()}}}),e._v(" "),a("el-select",{staticClass:"w150",attrs:{placeholder:"参与资格",clearable:"",filterable:""},on:{change:function(t){return e.getList()}},model:{value:e.queryControl.is_direction,callback:function(t){e.$set(e.queryControl,"is_direction",t)},expression:"queryControl.is_direction"}},[a("el-option",{attrs:{label:"无",value:0}}),e._v(" "),a("el-option",{attrs:{label:"有",value:1}})],1),e._v(" "),a("el-select",{staticClass:"w150",attrs:{placeholder:"使用额度",clearable:"",filterable:""},on:{change:function(t){return e.getList()}},model:{value:e.queryControl.is_user,callback:function(t){e.$set(e.queryControl,"is_user",t)},expression:"queryControl.is_user"}},[a("el-option",{attrs:{label:"未用",value:0}}),e._v(" "),a("el-option",{attrs:{label:"已用",value:1}})],1),e._v(" "),a("el-select",{staticClass:"w150",attrs:{placeholder:"在职情况",clearable:"",filterable:""},on:{change:function(t){return e.getList()}},model:{value:e.queryControl.user_status,callback:function(t){e.$set(e.queryControl,"user_status",t)},expression:"queryControl.user_status"}},[a("el-option",{attrs:{label:"在职",value:3}}),e._v(" "),a("el-option",{attrs:{label:"离职",value:4}})],1)],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.exportFile}},[e._v("导出")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"au_name",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_status",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"entry_time",label:"入职日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"leave_date",label:"离职日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.leave_date||"-")+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"is_direction",label:"参与资格"}}),e._v(" "),a("el-table-column",{attrs:{prop:"is_use",label:"使用额度"}})],1),e._v(" "),e.tableData.length>0?a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","current-page":e.queryControl.page,"page-size":e.queryControl.limit,"page-sizes":e.pagesizes,total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e()],1)},staticRenderFns:[]};var _=a("C7Lr")(p,d,!1,function(e){a("6shN")},"data-v-8746b812",null);t.default=_.exports}});